<h1>Add New User</h1>
<form [formGroup]="userForm" (ngSubmit)="save()">
  <div class="user-form">
    <mat-form-field appearance="fill">
      <mat-label>Enter your name</mat-label>
      <input matInput placeholder="Name" formControlName="name" required />
      <mat-error *ngIf="userForm.get('name')?.invalid">
        {{ getErrorMessage(userForm.get('name')?.errors) }}
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Enter Username</mat-label>
      <input
        matInput
        placeholder="hey@example.com"
        formControlName="username"
      />
      <mat-error *ngIf="userForm.get('username')?.invalid">
        {{ getErrorMessage(userForm.get('username')?.errors) }}
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Select the country</mat-label>
      <mat-select required formControlName="country">
        <mat-option
          *ngFor="let country of countriesList"
          [value]="countries[country]"
        >
          {{ countries[country] }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="userForm.get('country')?.invalid">{{
        getErrorMessage(userForm.get('country')?.errors)
      }}</mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Enter the postal code</mat-label>
      <input matInput placeholder="Postal code" formControlName="postCode" />
      <mat-error *ngIf="userForm.get('postCode')?.invalid">{{
        getErrorMessage(userForm.get('postCode')?.errors)
      }}</mat-error>
    </mat-form-field>
    <movies-filter formControlName="favoriteMovie"></movies-filter>
  </div>
  <div class="submit-button">
    <button mat-raised-button color="primary">Save</button>
  </div>
</form>
